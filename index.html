<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="justlazy is a lightweight javascript plugin for responsive image lazy loading. The micro plugin supports auto and manual lazy loading of images.">

    <title>Image lazy loading, javascript plugin | justlazy.js</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/justlazy.css" media="screen">
</head>

<body>

<header>
    <div class="container">
        <div class="headline">justlazy.js</div>
        <h1>micro javascript image lazy loading library</h1>
        <div id="downloads">
            <a href="https://github.com/fhopeman/justlazy/zipball/master" class="btn" title="download zip archive">get .zip</a>
            <a href="https://github.com/fhopeman/justlazy/tarball/master" class="btn" title="download tar.gz archive">get .tar.gz</a>
            <a href="https://github.com/fhopeman/justlazy" class="btn btn-github" title="plugin code">
                <span class="icon"></span>
                view code!
            </a>
        </div>
        <a href="https://travis-ci.org/fhopeman/justlazy" title="travis-ci build information">
            <img src="https://travis-ci.org/fhopeman/justlazy.svg?branch=master" title="build status" alt="build status">
        </a>
        <a href="https://twitter.com/share" class="twitter-share-button"
           data-url="http://fhopeman.github.io/justlazy"
           data-text="justlazy.js - micro javascript image lazy loading plugin without jQuery"
           data-via="fabianhoffmann7"
           data-count="none">
            Tweet
        </a>
    </div>
</header>

<div class="container">
    <div id="main-content">
        <h2>Why yet another lazy loading plugin?</h2>
        <p>
            Most of the existing javascript lazy
            loading plugins use extensive dependencies
            (e.g. <a href="https://jquery.com/" title="jQuery homepage">jQuery</a>) or support just the img-tag
            without responsive parts. This plugin is supposed to be a lightweight alternative.
            The main goals are:
        </p>
        <ul>
            <li>100% performance with plain javascript (no jQuery)</li>
            <li>100% valid HTML (no empty src tag)</li>
            <li>Simplicity and lightness (just lazy loading of images, no special cases)</li>
            <li>Heavily tested on various devices, browsers and OS versions</li>
        </ul>
        <img src="https://saucelabs.com/browser-matrix/fhopeman.svg" title="test status" alt="test status">

        <section>
            <h2>Usage</h2>
            <p>
                To lazy load an image, first of all a <a href="#placeholder" title="image placeholder description">placeholder</a>
                of your choice (e.g. <code>span</code>,
                <code>div</code>, ..) has to be defined. This placeholder itself is an html element
                which contains different data-attributes to provide the image information.
            </p>
            <p>
                The library loads the images with javascript in the background and then replaces the
                whole placeholder with the image. You don't have to care about removing the styling
                or other relics of the placeholder.
            </p>
            <p>
                There are three possibilities to trigger the image lazy loading:
                <ul>
                    <li>
                        <a href="#register-by-class" title="register by class">register all</a>
                        images by a specific class and load them if they become visible
                    </li>
                    <li>
                        <a href="#register-by-object" title="register object to laod">register only one</a>
                        image by an html object and load it if it becomes visible
                    </li>
                    <li>
                        <a title="manual loading" href="#manual-loading">load manually</a> with a custom event
                    </li>
                </ul>
                If you are too lazy for the details: <a title="demo" href="#demo">Jump to the demo</a>.
            </p>

            <h3 id="register-by-class">1. Auto image lazy loading by class</h3>
            <p>
                The most comfortable function of this library registers an event listener for all images
                with a specific
                css class. The images will be loaded automatically if they become visible. The parameters
                are the <a href="#css-class" title="css-class parameter">css-class</a> as string and optional
                <a href="#options" title="options parameter description">options</a>.
            </p>
            <pre><!--
             --><code><!--
                 -->Justlazy.registerLazyLoadByClass(css-class[, options]);<!--
             --></code><!--
         --></pre>

            <h3 id="register-by-object">2. Auto image lazy loading with placeholder object</h3>
            <p>
                The following function registers an event listener which loads the
                image automatically if it becomes visible. The parameters are the
                <a href="#placeholder" title="placeholder parameter description">placeholder</a>
                as object and
                <a href="#options" title="options parameter description">options</a> if you need
                them.
            </p>
            <pre><!--
             --><code><!--
                 -->Justlazy.registerLazyLoad(placeholder[, options]);<!--
             --></code><!--
         --></pre>

            <h3 id="manual-loading">3. Manual image lazy loading</h3>
            <p>
                This function has to be called manually to load the image. The advantage is
                that you can use your custom events to trigger the lazy loading of the image.
                Parameters are the placeholder as object and options.
            </p>
            <pre><!--
             --><code><!--
                 -->Justlazy.lazyLoad(placeholder[, options]);<!--
             --></code><!--
         --></pre>

            <h3>Parameters</h3>
            <h4 id="css-class"><code>css-class</code></h4>
            The <code>css-class</code> is a string object which has to be provided
            without the selector dot as prefix.
            <p>
                Example:
            </p>
            <pre><!--
             --><code><!--
                 -->Justlazy.registerLazyLoadByClass("load-if-visible");<!--
             --></code><!--
         --></pre>

            <h4 id="placeholder"><code>placeholder</code></h4>
            The <code>placeholder</code> has to be defined in your html. The <code>data-src</code> and
            <code>data-alt</code> attributes are mandatory, the rest of them are optional.
            <table>
                <thead>
                    <tr>
                        <th>Attribute</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>data-src</code> (mandatory)</td>
                        <td>source of the image</td>
                    </tr>
                    <tr>
                        <td><code>data-alt</code> (mandatory)</td>
                        <td>alt text of the image, <code>data-alt=""</code> is allowed, but not recommended!</td>
                    </tr>
                    <tr>
                        <td><code>data-title</code></td>
                        <td>title of the image</td>
                    </tr>
                    <tr>
                        <td><code>data-error</code></td>
                        <td>error handler of the image</td>
                    </tr>
                    <tr>
                        <td><code>data-srcset</code></td>
                        <td>responsive image source-set attribute</td>
                    </tr>
                </tbody>
            </table>
            <p>
                Example:
            </p>
            <pre><!--
             --><code><!--
                 -->// html representation
<!--             -->&lt;span id="some-id"
<!--             -->      data-src="default/image" data-alt="some alt text"
<!--             -->      data-srcset="small/image 600w, big/image 1000w"
<!--             -->      data-title="some title" data-error="some error handler"
<!--             -->      class="justlazy-placeholder"&gt;
<!--             -->&lt;/span&gt;
<!--             -->
<!--             -->// javascript call with placeholder as parameter
<!--             -->Justlazy.registerLazyLoad(document.getElementById("some-id"));<!--
             --></code><!--
         --></pre>
            As you can see, the default lazy loading spinner is provided by the
            <code>justlazy-placeholder</code> class.

            <h4 id="options"><code>options</code></h4>
            The <code>options</code> are provided as object with following
            properties. All of them are optional and you can provide as many
            as you need.
            <table>
                <thead>
                    <tr>
                        <th>Property</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <code>successCallback</code>
                        </td>
                        <td>
                            the function will be invoked if the placeholder is properly replaced
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>errorCallback</code>
                        </td>
                        <td>
                            the function will be invoked if the placeholder could not be replaced.
                            This occurs if mandatory attributes (e.g. <code>data-src</code>)
                            aren't available.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>threshold</code>
                        </td>
                        <td>
                            (only auto loading) The image is loaded the defined pixels before it
                            appears on the screen. E.g. 200px before it becomes visible.
                        </td>
                    </tr>
                </tbody>
            </table>
            <p>
                Example:
            </p>
            <pre><!--
             --><code><!--
                 -->Justlazy.registerLazyLoad(placeholder, {
<!--             -->    successCallback: function() {
<!--             -->        // do something
<!--             -->    },
<!--             -->    errorCallback: function() {
<!--             -->        // do something
<!--             -->    },
<!--             -->    threshold: 200
<!--             -->});<!--
             --></code><!--
         --></pre>
        </section>

        <section>
            <h2 id="demo">Demo</h2>
            <!-- example 1 -->
            <div class="example">
                <h3>#1 lazy loading if image is visible</h3>
                <p>
                    This example loads the images automatically if they become visible in the viewport
                    and uses the registration by class function.
                </p>
                <pre><!--
                 --><code><!--
                -->Justlazy.registerLazyLoadByClass("load-if-visible");<!--
                 --></code><!--
             --></pre>
                <div class="load-if-visible justlazy-placeholder" data-src="images/img_3.jpg" data-alt="Bridge in Elmshorn" data-title="Bridge in Elmshorn"></div>
                <div class="load-if-visible justlazy-placeholder" data-src="images/img_4.jpg" data-alt="Bridge in San Francisco" data-title="Bridge in San Francisco"></div>
                <div class="load-if-visible justlazy-placeholder" data-src="images/img_5.jpg" data-alt="Bridge in Dresden" data-title="Bridge in Dresden"></div>
            </div>

            <!-- example 2 -->
            <div class="example">
                <h3>#2 lazy loading image with pre-loading threshold</h3>
                <p>
                    Usually the image will be loaded when it becomes visible in the viewport.
                    If you set the <code>threshold</code>,
                    the image will be pre-loaded due to the defined pixels.
                    A <code>threshold</code> of 100 means, that the image will be loaded 100 pixels before it becomes
                    visible for the user. This example uses the registration by placeholder object function.
                </p>
                <pre><!--
                 --><code><!--
                 -->var placeholders = document.querySelectorAll('.loadWithThreshold');
<!--             -->for (var i = 0; i &lt; placeholders.length; ++i) {
<!--             -->    Justlazy.registerLazyLoad(placeholders[i], {
<!--             -->        threshold: 100
<!--             -->    });
<!--             -->}<!--
                --></code><!--
             --></pre>
                <div class="load-with-threshold justlazy-placeholder" data-src="images/img_6.jpg" data-alt="Bridge in Taroko" data-title="Bridge in Taroko"></div>
                <div class="load-with-threshold justlazy-placeholder" data-src="images/img_7.jpg" data-alt="Bridge in Chenggong" data-title="Bridge in Chenggong"></div>
                <div class="load-with-threshold justlazy-placeholder" data-src="images/img_8.jpg" data-alt="Bridge in Kassel" data-title="Bridge in Kassel"></div>
            </div>

            <!-- example 3 -->
            <div class="example">
                <h3>#3 lazy loading with specific event (e.g. button click)</h3>
                <p>
                    This example uses a button to trigger the image lazy loading manually. Instead
                    of the click event, you can use any other event of your choice and register
                    it via javascript.
                </p>
                <pre><!--
                 --><code><!--
                -->document.getElementById("loadImg1Btn").onclick = function() {
<!--            -->    var imgPlaceholder = document.getElementById("img1");
<!--            -->    Justlazy.lazyLoad(imgPlaceholder);

<!--            -->    return false;
<!--            -->};<!--
                 --></code><!--
             --></pre>
                <a id="loadImg1Btn" href="#" class="btn btn-lazy-load" title="lazy load image">lazy load image</a>
                <div id="img1" class="justlazy-placeholder" data-src="images/img_1.jpg" data-alt="Bridge in Hamburg" data-title="Bridge in Hamburg"></div>
            </div>

            <!-- example 4 -->
            <div class="example">
                <h3>#4: lazy loading with srcset attribute</h3>
                <p>
                    This example demonstrates the usage of the srcset attribute. You just have to
                    provide the data-srcset attribute with specific value.
                </p>
                <pre><!--
                 --><code><!--
                -->document.getElementById("loadImg2Btn").onclick = function() {
<!--            -->    var imgPlaceholder = document.getElementById("img2");
<!--            -->    Justlazy.lazyLoad(imgPlaceholder);

<!--            -->    return false;
<!--            -->};<!--
                 --></code><!--
             --></pre>
                <a id="loadImg2Btn" href="#" class="btn btn-lazy-load" title="lazy load image">lazy load responsive image</a>
                <div id="img2" class="justlazy-placeholder"
                     data-src="images/img_2_defaultSize.jpg"
                     data-srcset="images/img_2_smallSize.jpg 600w, images/img_2_bigSize.jpg 1000w"
                     data-alt="Bridge in Heidelberg"
                     data-title="Bridge in Heidelberg">
                </div>
                <p>
                    The comment in the lower right corner of the image indicates the size of the image, which has been
                    loaded. The srcset attribute defines, that the small size is loaded if your screen width is lower or equals
                    than 600 pixels. All screen sizes above will load the big image. If the browser doesn't support
                    the srcset, the default image will be loaded.
                </p>
                <p>
                    If the big image is loaded once, you have to disable or
                    clear the browser cache to see the small image again with a browser horizontal width &lt;= 600px. Otherwise
                    the cached big image will be used in all cases.
                </p>
            </div>
        </section>

    </div>
</div>

<script type="text/javascript" src="javascript/justlazy.js"></script>
<script type="text/javascript" src="javascript/demo.js"></script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-33320475-4', 'auto');
    ga('send', 'pageview');
    // twitter
    !function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https';
        if (!d.getElementById(id)) {
            js = d.createElement(s);
            js.id = id;
            js.src = p + '://platform.twitter.com/widgets.js';
            fjs.parentNode.insertBefore(js, fjs);
        }
    }(document, 'script', 'twitter-wjs');
</script>

</body>
</html>
